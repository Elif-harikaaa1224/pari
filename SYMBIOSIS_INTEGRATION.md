# üåâ Symbiosis Bridge Integration

## –ß—Ç–æ —ç—Ç–æ?

Symbiosis - —ç—Ç–æ cross-chain –ø—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –æ–±–º–µ–Ω–∞ —Ç–æ–∫–µ–Ω–æ–≤ –º–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –±–ª–æ–∫—á–µ–π–Ω–∞–º–∏. –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ bridge BNB (BSC) ‚Üí USDC (Polygon).

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–µ—Ä–µ–¥ Stargate

‚úÖ **–ü—Ä–æ—â–µ –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏** - –æ–¥–∏–Ω –≤—ã–∑–æ–≤ –≤–º–µ—Å—Ç–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —à–∞–≥–æ–≤
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–æ—É—Ç–∏–Ω–≥** - –Ω–∞—Ö–æ–¥–∏—Ç –ª—É—á—à–∏–π –ø—É—Ç—å –¥–ª—è swap
‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞—Ç–∏–≤–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤** - –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å BNB –Ω–∞–ø—Ä—è–º—É—é
‚úÖ **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π swap** - –Ω–µ –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π swap –Ω–∞ PancakeSwap
‚úÖ **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞** - API –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞—à–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
```javascript
const symbiosisBridge = new SymbiosisBridge();
await symbiosisBridge.init();
```

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ quote (–æ—Ü–µ–Ω–∫–∞ –≤—ã—Ö–æ–¥–∞)
```javascript
const estimatedUSDC = await symbiosisBridge.getQuote(amountBNB);
// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ USDC –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–ª—É—á–∏–º
```

### 3. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ bridge
```javascript
const result = await symbiosisBridge.swapBNBtoUSDC(
    amountBNB,          // –°–∫–æ–ª—å–∫–æ BNB –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º
    proxyAddress,       // –ö—É–¥–∞ –ø–æ–ª—É—á–∏—Ç—å USDC –Ω–∞ Polygon
    wallet.provider,    // Web3 provider (MetaMask)
    onStatusUpdate      // Callback –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI
);
```

### 4. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
```javascript
{
    success: true,
    txHash: "0x...",           // Hash —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–∞ BSC
    outputAmount: "598.45",    // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ USDC
    toAddress: "0x..."         // –ê–¥—Ä–µ—Å –ø–æ–ª—É—á–∞—Ç–µ–ª—è –Ω–∞ Polygon
}
```

## –ü—Ä–æ—Ü–µ—Å—Å —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç —Å—É–º–º—É** –≤ BNB
2. **–°–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Ü–µ–Ω–∫—É** —Å–∫–æ–ª—å–∫–æ USDC –ø–æ–ª—É—á–∏—Ç
3. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç** —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –≤ MetaMask
4. **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è** –Ω–∞ BSC
5. **Symbiosis –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç** (5-15 –º–∏–Ω—É—Ç):
   - –ü–æ–ª—É—á–∞–µ—Ç BNB –Ω–∞ BSC
   - –û–±–º–µ–Ω–∏–≤–∞–µ—Ç –Ω–∞ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —á–µ—Ä–µ–∑ –º–æ—Å—Ç—ã –Ω–∞ Polygon
   - –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –≤ USDC –Ω–∞ Polygon
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –∞–¥—Ä–µ—Å
6. **USDC –ø–æ—è–≤–ª—è–µ—Ç—Å—è** –Ω–∞ Proxy –∞–¥—Ä–µ—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ Polygon
7. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è —Å—Ç–∞–≤–∫–∞** –Ω–∞ Polymarket

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—Ö–æ–¥–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤
```javascript
const tokenAmountIn = {
    chainId: 56,              // BSC
    address: '',              // –ü—É—Å—Ç–æ–π = –Ω–∞—Ç–∏–≤–Ω—ã–π —Ç–æ–∫–µ–Ω (BNB)
    symbol: 'BNB',
    decimals: 18,
    amount: ethers.utils.parseEther(amountBNB.toString()).toString()
};

const tokenOut = {
    chainId: 137,             // Polygon
    address: '0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174', // USDC
    symbol: 'USDC',
    decimals: 6
};
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã swap
```javascript
const { route, tokenAmountOut } = await swapping.exactIn(
    tokenAmountIn,
    tokenOut,
    toAddress,         // –ü–æ–ª—É—á–∞—Ç–µ–ª—å
    5,                 // Slippage 5%
    deadline           // Unix timestamp
);
```

### –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
```javascript
// Symbiosis API endpoint
GET https://api.symbiosis.finance/crosschain/v1/tx/{txHash}

// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
{
    status: "pending" | "success" | "failed",
    from_chain: 56,
    to_chain: 137,
    ...
}
```

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏:

**1. "User rejected transaction"**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫–ª–æ–Ω–∏–ª —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –≤ MetaMask
- –†–µ—à–µ–Ω–∏–µ: –ü–æ–ø—Ä–æ—Å–∏—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–Ω–æ–≤–æ

**2. "Insufficient funds"**
- –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ BNB –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ + gas
- –†–µ—à–µ–Ω–∏–µ: –ü–æ–∫–∞–∑–∞—Ç—å —Å–∫–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ (—Å—É–º–º–∞ + ~$2 gas)

**3. "Route not found"**
- Symbiosis –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –ø—É—Ç—å –¥–ª—è swap
- –†–µ—à–µ–Ω–∏–µ: –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥—Ä—É–≥—É—é —Å—É–º–º—É –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å

**4. "Bridge timeout"**
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –¥–æ–ª—å—à–µ –æ–∂–∏–¥–∞–µ–º–æ–≥–æ
- –†–µ—à–µ–Ω–∏–µ: –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –æ–∂–∏–¥–∞–Ω–∏–µ, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ PolygonScan

## Fees (–∫–æ–º–∏—Å—Å–∏–∏)

### –ß—Ç–æ –ø–ª–∞—Ç–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
1. **Gas –Ω–∞ BSC** (~$0.20-0.50) - –∑–∞ –æ—Ç–ø—Ä–∞–≤–∫—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
2. **Symbiosis fee** (~0.1-0.3%) - –∫–æ–º–∏—Å—Å–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
3. **Slippage** (–¥–æ 5%) - —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –æ–∂–∏–¥–∞–µ–º–æ–π –∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–π —Ü–µ–Ω–æ–π

### –ò—Ç–æ–≥–æ:
–ü—Ä–∏ –æ–±–º–µ–Ω–µ 0.1 BNB (~$60):
- –û—Ç–ø—Ä–∞–≤–∏–ª: 0.1 BNB
- –ü–æ–ª—É—á–∏–ª: ~59.5 USDC
- –ü–æ—Ç–µ—Ä–∏: ~$0.70 (1.2%)

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

### –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (F12):
```
=== Starting Symbiosis Bridge ===
Amount BNB: 0.1
Route calculated:
- Input: 100000000000000000 BNB
- Output: 59500000 USDC
Transaction hash: 0x...
Bridge status check 1/60: pending
Bridge status check 2/60: pending
...
Bridge status check 15/60: completed
‚úÖ –°—Ä–µ–¥—Å—Ç–≤–∞ –ø–æ–ª—É—á–µ–Ω—ã –Ω–∞ Polygon!
```

### –ù–∞ –±–ª–æ–∫—á–µ–π–Ω —ç–∫—Å–ø–ª–æ—Ä–µ—Ä–∞—Ö:
- **BSC**: https://bscscan.com/tx/{txHash}
- **Polygon**: https://polygonscan.com/address/{proxyAddress}

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –í testnet:
1. –ü–æ–ª—É—á–∏—Ç—å test BNB –Ω–∞ BSC testnet
2. –ò–∑–º–µ–Ω–∏—Ç—å `new Symbiosis('mainnet')` –Ω–∞ `new Symbiosis('testnet')`
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å testnet –∞–¥—Ä–µ—Å–∞ —Ç–æ–∫–µ–Ω–æ–≤

### –° –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ —Å—É–º–º–∞–º–∏:
- –ú–∏–Ω–∏–º—É–º: 0.01 BNB (~$6)
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Ç–µ—Å—Ç–∞: 0.05 BNB (~$30)

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –ï—Å–ª–∏ Symbiosis –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:
```javascript
async getQuote(amountBNB) {
    try {
        // –ü—ã—Ç–∞–µ–º—Å—è –ø–æ–ª—É—á–∏—Ç—å quote –æ—Ç Symbiosis
        return await this.symbiosisQuote(amountBNB);
    } catch (error) {
        // Fallback –Ω–∞ –ø—Ä–æ—Å—Ç–æ–π —Ä–∞—Å—á–µ—Ç –ø–æ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω–µ
        const bnbPrice = bnbPriceTracker.getPrice();
        return (amountBNB * bnbPrice * 0.995).toFixed(2);
    }
}
```

### –ï—Å–ª–∏ bridge –∑–∞–Ω–∏–º–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ:
- –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–æ–≥—Ä–µ—Å—Å
- –î–∞–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –≤—Ä—É—á–Ω—É—é
- –°–æ—Ö—Ä–∞–Ω—è–µ–º txHash –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: https://docs.symbiosis.finance/
- **JS SDK**: https://docs.symbiosis.finance/developer-tools/symbiosis-js-sdk
- **API**: https://docs.symbiosis.finance/developer-tools/symbiosis-api
- **Explorer**: https://explorer.symbiosis.finance/
- **GitHub**: https://github.com/symbiosis-finance/js-sdk

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å BNB –Ω–∞ BSC
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–∞ BscScan
4. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 15-20 –º–∏–Ω—É—Ç –¥–ª—è bridge
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å USDC –Ω–∞ Polygon

## Roadmap —É–ª—É—á—à–µ–Ω–∏–π

- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç gas fees
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–π breakdown –∫–æ–º–∏—Å—Å–∏–π
- [ ] –°–æ—Ö—Ä–∞–Ω—è—Ç—å –∏—Å—Ç–æ—Ä–∏—é bridge —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å bridge –∏–∑ –¥—Ä—É–≥–∏—Ö —Å–µ—Ç–µ–π
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Symbiosis Explorer –¥–ª—è —Ç—Ä–µ–∫–∏–Ω–≥–∞
